(function($){$.fn.strapslide=function(options,callbackin,callbackout){function setAnimation(e,t){t=t.replace(/\s/g,"").toLowerCase().split(",");var n;for(n=0;n<t.length;++n){switch(t[n]){case"fade":e.fade=true;break;case"rotatecw":{if(e.rotateccw!=true)e.rotatecw=true}break;case"rotateccw":{if(e.rotatecw!=true)e.rotateccw=true}break;case"scaleup":{if(e.scaledown!=true)e.scaleup=true}break;case"scaledown":{if(e.scaleup!=true)e.scaledown=true}break;case"top":{if(e.bottom!=true)e.top=true}break;case"bottom":{if(e.top!=true)e.bottom=true}break;case"left":{if(e.right!=true)e.left=true}break;case"right":{if(e.left!=true)e.right=true}break}}}function responsive(){if(settings.responsive=="none"){if($container.width()/$container.height()<aspectRatio){$background.removeClass("background-fullwidth").css({height:$container.height()+"px",width:$container.height()*aspectRatio+"px"})}else{$background.attr("style","");$background.addClass("background-fullwidth")}}else if(settings.responsive=="ie8"){$container.append($background.eq(0).clone());$background.addClass("background-fullwidth");$(".background-image:last",$this).addClass("reference-image");$container.css({height:$(".background-image:last",$this).height()})}}function gotoslide(e){if(animated)return;if(e==$current)return;if(e>$length)e=0;else if(e<0)e=$length;if(settings.autoplay==true){timerinit()}var t=$current;if($current!=undefined)callbackout();animated=1;$slides.eq(t).removeClass("active").exit();$slides.eq(e).addClass("active").enter();setTimeout(function(){animated=0},settings.speed+250);if(settings.pagination==true){$(".strapslide-pagination li",$this).eq(t).removeClass("active");$(".strapslide-pagination li",$this).eq(e).addClass("active")}$current=e}function timerinit(){count=-settings.speed/100;progress.css({width:"0%"})}function fullvideo(){var e=$container.width();var t=$container.height();$(".strapslide-videofullscreen").css({width:e+"px",height:t+"px"})}if(callbackin==undefined)callbackin=function(){};if(callbackout==undefined)callbackout=function(){};var settings=$.extend({animation:"fade",speed:1e3,timeout:5e3,responsive:"resize",autoplay:true,preload:true,pauseOnHover:true,pagination:true,mousewheel:true,keyboard:true,touchscreen:true},options);var fx;var defaultfx=$.extend({fade:false,rotatecw:false,rotateccw:false,scaleup:false,scaledown:false,left:false,right:false,top:false,bottom:false},fx);var fxfade=0;var fxdeg=60;var fxlargescale=2;var fxsmallscale=0;setAnimation(defaultfx,settings.animation);var $this=$(this);var $container=$(".strapslide-container",$this);var $slides=$(".slide",$this);var $window=$(window);var preloader=$(".preloader",$this);var $active=$(".active",$this);var $background=$(".background-image",$this);var startHeight=$container.height();var first=$active.index();var aspectRatio=$background.width()/$background.height();var maxHeight=$container.height();var supportMode=$.support.leadingWhitespace?true:false;if($(".bar",$this).length==1)var progress=$(".bar",$this);else var progress=$(".progress-bar",$this);var pagination=$(".strapslide-pagination",$this);if(!supportMode){settings.responsive="ie8"}if(settings.responsive=="after"){$background.addClass("background-fullwidth");if(supportMode){$container.append($background.eq(0).clone());$(".background-image:last",$this).addClass("reference-image")}$container.css({height:"auto","max-height":maxHeight+"px"})}else if(settings.responsive=="resize"){$background.addClass("background-fullwidth");if(supportMode){$container.append($background.eq(0).clone());$(".background-image:last",$this).addClass("reference-image");$container.css({height:"auto"})}}$slides.hide(0);if(settings.preload==true){if(supportMode){var currentimg=0;var lastimg=$("img",$this).length;$("img",$this).each(function(){var e=$(this).attr("src");var t=$(new Image).attr("src",e);t.load(function(){++currentimg;if(currentimg==lastimg){preloader.fadeOut(settings.speed,function(){first>=0?gotoslide(first):gotoslide(0)})}})})}else{preloader.fadeOut(settings.speed,function(){first>=0?gotoslide(first):gotoslide(0)})}}else{$active.show(0);preloader.hide(0);first>=0?gotoslide(first):gotoslide(0)}var fade=1;var rotate=0;var scale=1;var vertical=0;var horizontal=0;(function(e){e.fn.enter=function(){var t=e(this);var n=t.attr("data-animation");var r=$container.width();var i=$container.height();var s;var o=e.extend({fade:false,rotatecw:false,rotateccw:false,scaleup:false,scaledown:false,left:false,right:false,top:false,bottom:false},s);if(n){setAnimation(o,n);if(o.fade==true)fade=fxfade;if(o.rotatecw==true)rotate=-fxdeg+"deg";else if(o.rotateccw==true)rotate=fxdeg+"deg";if(o.scaleup==true)scale=fxsmallscale;else if(o.scaledown==true)scale=fxlargescale;if(o.left==true)horizontal=-r;else if(o.right==true)horizontal=r;if(o.top==true)vertical=-i;else if(o.bottom==true)vertical=i}else{if(defaultfx.fade==true)fade=fxfade;if(defaultfx.rotatecw==true)rotate=-fxdeg+"deg";else if(defaultfx.rotateccw==true)rotate=fxdeg+"deg";if(defaultfx.scaleup==true)scale=fxsmallscale;else if(defaultfx.scaledown==true)scale=fxlargescale;if(defaultfx.left==true)horizontal=-r;else if(defaultfx.right==true)horizontal=r;if(defaultfx.top==true)vertical=-i;else if(defaultfx.bottom==true)vertical=i}callbackin();if(supportMode){t.css({"margin-left":horizontal+"px","margin-top":vertical+"px","-webkit-transform":"rotate("+rotate+") scale("+scale+")","-moz-transform":"rotate("+rotate+") scale("+scale+")","-ms-transform":"rotate("+rotate+") scale("+scale+")","-o-transform":"rotate("+rotate+") scale("+scale+")",transform:"rotate("+rotate+") scale("+scale+")","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity='"+fade*100+"')",filter:"alpha(opacity="+fade*100+")","-moz-opacity":fade,"-khtml-opacity":fade,opacity:fade}).show(0).stop().transition({"margin-left":"0px","margin-top":"0px",opacity:1,rotate:0,scale:1},settings.speed,function(){t.attr("style","")})}else{t.delay(settings.speed).fadeOut(0).fadeIn(settings.speed,function(){t.attr("style","").show(0)})}}})(jQuery);(function(e){e.fn.exit=function(){var t=e(this);var n=t.attr("data-animation");var r=$container.width();var i=$container.height();var s;var o=e.extend({fade:false,rotatecw:false,rotateccw:false,scaleup:false,scaledown:false,left:false,right:false,top:false,bottom:false},s);if(n){setAnimation(o,n);if(o.fade==true)fade=fxfade;if(o.rotatecw==true)rotate=-fxdeg+"deg";else if(o.rotateccw==true)rotate=fxdeg+"deg";if(o.scaleup==true)scale=fxsmallscale;else if(o.scaledown==true)scale=fxlargescale;if(o.left==true)horizontal=-r;else if(o.right==true)horizontal=r;if(o.top==true)vertical=-i;else if(o.bottom==true)vertical=i}else{if(defaultfx.fade==true)fade=fxfade;if(defaultfx.rotatecw==true)rotate=-fxdeg+"deg";else if(defaultfx.rotateccw==true)rotate=fxdeg+"deg";if(defaultfx.scaleup==true)scale=fxsmallscale;else if(defaultfx.scaledown==true)scale=fxlargescale;if(defaultfx.left==true)horizontal=-r;else if(defaultfx.right==true)horizontal=r;if(defaultfx.top==true)vertical=-i;else if(defaultfx.bottom==true)vertical=i}if(supportMode){t.delay(1e3).transition({"margin-left":horizontal+"px","margin-top":vertical+"px",opacity:fade,rotate:rotate,scale:scale},settings.speed*3/4,function(){t.hide(0)})}else{t.fadeOut(settings.speed*3/4)}fade=1;rotate=0;scale=1;vertical=0;horizontal=0}})(jQuery);(function(e){e.fn.fxenter=function(t,n){var r=1;var i=0;var s=1;var o=0;var u=0;if(n==undefined)n=settings.speed;var a=e(this);var f=$container.width();var l=$container.height();var c;var h=e.extend({fade:false,rotatecw:false,rotateccw:false,scaleup:false,scaledown:false,left:false,right:false,top:false,bottom:false},c);setAnimation(h,t);if(h.fade==true)r=fxfade;if(h.rotatecw==true)i=-fxdeg+"deg";else if(h.rotateccw==true)i=fxdeg+"deg";if(h.scaleup==true)s=fxsmallscale;else if(h.scaledown==true)s=fxlargescale;if(h.left==true)u=-f;else if(h.right==true)u=f;if(h.top==true)o=-l;else if(h.bottom==true)o=l;if(supportMode){a.css({"margin-left":u+"px","margin-top":o+"px","-webkit-transform":"rotate("+i+") scale("+s+")","-moz-transform":"rotate("+i+") scale("+s+")","-ms-transform":"rotate("+i+") scale("+s+")","-o-transform":"rotate("+i+") scale("+s+")",transform:"rotate("+i+") scale("+s+")","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity='"+r*100+"')",filter:"alpha(opacity="+r*100+")","-moz-opacity":r,"-khtml-opacity":r,opacity:r}).stop().delay(settings.speed).transition({"margin-left":"0px","margin-top":"0px",opacity:1,rotate:0,scale:1},n)}else{if(r==0)a.delay(settings.speed).fadeIn();a.delay(settings.speed).animate({"margin-left":"0px","margin-top":"0px"},n)}}})(jQuery);(function(e){e.fn.fxexit=function(t,n){var r=1;var i=0;var s=1;var o=0;var u=0;if(n==undefined)n=settings.speed;var a=e(this);var f=$container.width();var l=$container.height();var c;var h=e.extend({fade:false,rotatecw:false,rotateccw:false,scaleup:false,scaledown:false,left:false,right:false,top:false,bottom:false},c);setAnimation(h,t);if(h.fade==true)r=0;if(h.rotatecw==true)i=-fxdeg+"deg";else if(h.rotateccw==true)i=fxdeg+"deg";if(h.scaleup==true)s=fxlargescale;else if(h.scaledown==true)s=fxsmallscale;if(h.left==true)u=-f;else if(h.right==true)u=f;if(h.top==true)o=-l;else if(h.bottom==true)o=l;if(supportMode){a.css({"margin-left":"0px","margin-top":"0px","-webkit-transform":"rotate(0) scale(1)","-moz-transform":"rotate(0) scale(1)","-ms-transform":"rotate(0) scale(1)","-o-transform":"rotate(0) scale(1)",transform:"rotate(0) scale(1)","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity='"+100+"')",filter:"alpha(opacity="+100+")","-moz-opacity":1,"-khtml-opacity":1,opacity:1}).stop().transition({"margin-left":u+"px","margin-top":o+"px",opacity:r,rotate:i,scale:s},n)}else{if(r==0)a.fadeOut();a.animate({"margin-left":u+"px","margin-top":o+"px"},n)}}})(jQuery);var $current;var $length=$slides.length-1;var animated=0;var $prev=$(".prev",$this);var $next=$(".next",$this);$prev.click(function(){gotoslide($current-1)});$next.click(function(){gotoslide($current+1)});if(settings.touchscreen==true){$container.swipe({swipe:function(e,t){if(t=="left"){gotoslide($current+1)}if(t=="right"){gotoslide($current-1)}}})}if(settings.mousewheel==true){$container.bind("mousewheel",function(e,t){if(t<0){gotoslide($current+1)}if(t>0){gotoslide($current-1)}e.stopPropagation();e.preventDefault()})}if(settings.keyboard==true){$(document).keydown(function(e){if(e.keyCode==37&&!animated){gotoslide($current-1)}if(e.keyCode==39&&!animated){gotoslide($current+1)}})}if(settings.pagination==true){var i;for(i=1;i<=$length+1;i++)$("ul",pagination).append('<li><a href="#">'+i+"</a></li>");$("ul li",pagination).eq($current).addClass("active");$("ul li a",pagination).click(function(){var e=$(this).closest("li").index();gotoslide(e)})}else{pagination.hide()}(function($){$.timer=function(func,time,autostart){this.set=function(func,time,autostart){this.init=true;if(typeof func=="object"){var paramList=["autostart","time"];for(var arg in paramList){if(func[paramList[arg]]!=undefined){eval(paramList[arg]+" = func[paramList[arg]]")}}func=func.action}if(typeof func=="function"){this.action=func}if(!isNaN(time)){this.intervalTime=time}if(autostart&&!this.isActive){this.isActive=true;this.setTimer()}return this};this.once=function(e){var t=this;if(isNaN(e)){e=0}window.setTimeout(function(){t.action()},e);return this};this.play=function(e){if(!this.isActive){if(e){this.setTimer()}else{this.setTimer(this.remaining)}this.isActive=true}return this};this.pause=function(){if(this.isActive){this.isActive=false;this.remaining-=new Date-this.last;this.clearTimer()}return this};this.stop=function(){this.isActive=false;this.remaining=this.intervalTime;this.clearTimer();return this};this.toggle=function(e){if(this.isActive){this.pause()}else if(e){this.play(true)}else{this.play()}return this};this.reset=function(){this.isActive=false;this.play(true);return this};this.clearTimer=function(){window.clearTimeout(this.timeoutObject)};this.setTimer=function(e){var t=this;if(typeof this.action!="function"){return}if(isNaN(e)){e=this.intervalTime}this.remaining=e;this.last=new Date;this.clearTimer();this.timeoutObject=window.setTimeout(function(){t.go()},e)};this.go=function(){if(this.isActive){this.action();this.setTimer()}};if(this.init){return new $.timer(func,time,autostart)}else{this.set(func,time,autostart);return this}}})(jQuery);if(settings.autoplay==true){var count=0;var timer=$.timer(function(){count++;if(count>=settings.timeout/100){gotoslide($current+1)}progress.css({width:count*11e3/settings.timeout+"%"})},100,true);if(settings.pauseOnHover==true){$container.hover(function(){timer.pause()},function(){timer.play()})}timer.go()}else{progress.closest(".progress").hide(0)}$(".strapslide-video").fitVids();$window.resize(function(){fullvideo();if(settings.responsive=="none"||settings.responsive=="ie8"){responsive()}}).trigger("resize");$window.load(function(){$window.trigger("resize")});var $top=$(".slide-content",$this).find("[data-top]");var $bottom=$(".slide-content",$this).find("[data-bottom]");var $left=$(".slide-content",$this).find("[data-left]");var $right=$(".slide-content",$this).find("[data-right]");$top.each(function(){var e=$(this);var t=$(this).attr("data-top");e.css({position:"absolute",top:t})});$bottom.each(function(){var e=$(this);var t=$(this).attr("data-bottom");e.css({position:"absolute",bottom:t})});$left.each(function(){var e=$(this);var t=$(this).attr("data-left");e.css({position:"absolute",left:t})});$right.each(function(){var e=$(this);var t=$(this).attr("data-right");e.css({position:"absolute",right:t})})}})(jQuery)